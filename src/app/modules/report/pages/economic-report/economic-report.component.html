<!-- First Section: Search Info -->
<div class="card card-xl-stretch mb-xl-8">
  <div class="card-header border-0 pt-5">
    <h4 class="card-title align-items-start flex-column">
      <span class="card-label fw-bolder fs-3 mb-1">Buscar por número de control</span>
    </h4>
  </div>
  <div class="card-body py-3">
    <div class="col-md-6 d-flex align-items-center">
      <label for="controlNumber" class="fw-semibold fs-6 mb-2 me-3 mb-0" style="min-width: 160px;">
        Número de control
      </label>
      <input type="text" id="controlNumber" name="controlNumber" class="form-control form-control-sm text-end me-3"
        [(ngModel)]="controlNumber" />
      <button class="btn btn-primary btn-sm px-4" (click)="loadReportInfo()">Buscar</button>

    </div>
  </div>

</div>
<!-- end::First Section: Search Info -->

<!-- Second Section: Econocmic Report -->
<div class="card card-xl-stretch mb-xl-8 mt-2">
  <!-- Card Header -->
  <div class="card-header border-0 pt-5">
    <h3 class="card-title fw-bolder fs-2 mb-1">REPORTE ECONÓMICO</h3>
  </div>

  <!-- Card Body -->
  <div class="card-body pt-0 fs-6">
    <!-- Purchase Info -->
    <table class="table table-bordered align-middle mb-6">
      <tbody>
        <tr>
          <td><strong>Nombre de cliente</strong></td>
          <td>{{ economicReportModel.purchase.clientName }}</td>
          <td><strong>Número de control</strong></td>
          <td>{{ economicReportModel.purchase.controlNumber }}</td>
          <td><strong>Fecha de compra</strong></td>
          <td>{{ economicReportModel.purchase.purchaseDate | date: 'dd/MM/yyyy' }}</td>
        </tr>
        <tr>
          <td><strong>Ubicación de piscina</strong></td>
          <td>{{ economicReportModel.purchase.shrimpFarmLocation }}</td>
          <td><strong>Nombre de Compañía</strong></td>
          <td>{{ economicReportModel.purchase.companyName }}</td>
          <td><strong>Gramo promedio 1</strong></td>
          <td>{{ economicReportModel.purchase.averageGram }}</td>
        </tr>
        <tr>
          <td><strong>Nombre de piscina</strong></td>
          <td>{{ economicReportModel.purchase.shrimpFarm }}</td>
          <td><strong>Periodo</strong></td>
          <td>{{ economicReportModel.purchase.period }}</td>
          <td><strong>Número de factura</strong></td>
          <td>{{ economicReportModel.purchase.invoiceNumber }}</td>
        </tr>
        <tr>
          <td><strong>Comprador responsable</strong></td>
          <td>{{ economicReportModel.purchase.responsibleBuyer }}</td>
          <td><strong>Nombre de broker</strong></td>
          <td>{{ economicReportModel.purchase.brokerName }}</td>
          <td><strong>Estado</strong></td>
          <td>{{ purchaseStatus }}</td>
        </tr>
      </tbody>
    </table>

    <!-- VENTAS -->
    <h5 class="fw-bold border-bottom border-gray-400 pb-2">VENTAS</h5>
    <table class="table table-bordered align-middle mb-6">
      <tbody>
        <tr>
          <td><strong>Fecha de venta</strong></td>
          <td>{{ economicReportModel.sale.saleDate | date: 'dd/MM/yyyy' }}</td>
          <td><strong>Libras netas recibidas</strong></td>
          <td>{{ economicReportModel.sale.netPoundsReceived }}</td>
          <td><strong>Total a recibir ($)</strong></td>
          <td>{{ economicReportModel.sale.totalToReceive | number:'1.2-2' }}</td>
        </tr>
        <tr>
          <td><strong>Fecha de recepción</strong></td>
          <td>{{ economicReportModel.sale.receptionDate | date: 'dd/MM/yyyy' }}</td>
          <td><strong>Libras recibidas cabeza</strong></td>
          <td>{{ economicReportModel.sale.wholePoundsReceived }}</td>
        </tr>
        <tr>
          <td><strong>Lote</strong></td>
          <td>{{ economicReportModel.sale.batch }}</td>
          <td><strong>Libras basura</strong></td>
          <td>{{ economicReportModel.sale.trashPounds }}</td>
        </tr>
        <tr>
          <td><strong>Documento</strong></td>
          <td>{{ economicReportModel.sale.document }}</td>
          <td><strong>Rendimiento</strong></td>
          <td>{{ economicReportModel.sale.performance }} %</td>
        </tr>
        <tr>
          <td><strong>Gr. Promedio Lote</strong></td>
          <td>{{ economicReportModel.sale.averageBatchGrams }}</td>
        </tr>
      </tbody>
    </table>

    <!-- COMPRAS -->
    <h5 class="fw-bold border-bottom border-gray-400 pb-2">COMPRAS</h5>
    <table class="table table-bordered align-middle mb-6">
      <tbody>
        <tr>
          <td><strong>Gramos promedio 1</strong></td>
          <td>{{ economicReportModel.purchase.averageGram }}</td>
          <td><strong>Gramos promedio 2</strong></td>
          <td>{{ economicReportModel.purchase.averageGrams2 }}</td>
          <td><strong>Total acordado ($)</strong></td>
          <td>{{ economicReportModel.purchase.totalAgreed | number:'1.2-2' }}</td>
        </tr>
        <tr>
          <td><strong>Precio 1</strong></td>
          <td>{{ economicReportModel.purchase.price }}</td>
          <td><strong>Precio 2</strong></td>
          <td>{{ economicReportModel.purchase.price2 }}</td>
        </tr>
        <tr>
          <td><strong>Libras compradas 1</strong></td>
          <td>{{ economicReportModel.purchase.pounds }}</td>
          <td><strong>Libras compradas 2</strong></td>
          <td>{{ economicReportModel.purchase.pounds2 }}</td>
        </tr>
        <tr>
          <td><strong>Total libras compradas</strong></td>
          <td>{{ economicReportModel.purchase.totalPoundsPurchased }}</td>
          <td><strong>Total a pagar</strong></td>
          <td>{{ economicReportModel.purchase.totalToPay | number:'1.2-2' }}</td>
        </tr>
      </tbody>
    </table>

    <!-- LOGISTICA -->
    <h5 class="fw-bold border-bottom border-gray-400 pb-2">LOGÍSTICA</h5>
    <table class="table table-bordered align-middle mb-6">
      <tbody>
        <tr>
          <td><strong>Tipo</strong></td>
          <td>{{ logisticsType }}</td>
          <td><strong>Gastos personal</strong></td>
          <td>{{ economicReportModel.logistics.personnelExpenses | number:'1.2-2' }}</td>
          <td><strong>Total a pagar ($)</strong></td>
          <td>{{ economicReportModel.logistics.totalToPay | number:'1.2-2' }}</td>
        </tr>
        <tr>
          <td><strong>Fecha de logística</strong></td>
          <td>{{ economicReportModel.logistics.logisticsDate | date: 'dd/MM/yyyy'}}</td>
          <td><strong>Gasto productos e insumos</strong></td>
          <td>{{ economicReportModel.logistics.productAndSupplyExpenses | number:'1.2-2' }}</td>
        </tr>
      </tbody>
    </table>

    <!-- UTILIDAD BRUTA -->
    <h5 class="fw-bold text-end mt-4">
      UTILIDAD BRUTA ($):
      <span class="ms-2 text-primary">
        {{ economicReportModel.grossProfit | number:'1.2-2' }}
      </span>
    </h5>
  </div>
</div>

<!-- end::Second Section: Econocmic Report -->
